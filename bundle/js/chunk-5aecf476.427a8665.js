(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5aecf476"],{"0210":function(t,e,n){"use strict";n.d(e,"c",(function(){return o})),n.d(e,"a",(function(){return s})),n.d(e,"d",(function(){return r})),n.d(e,"b",(function(){return i}));var o=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.round(Math.random()*(e-t))+t},s=function(t){var e=Math.floor(t/86400);e=e>=10?e:"0"+e;var n=Math.floor(t/3600%24);n=n>=10?n:"0"+n;var o=Math.floor(t/60%60);o=o>=10?o:"0"+o;var s=Math.floor(t%60);return s=s>=10?s:"0"+s,{day:e,hour:n,minute:o,second:s}},r=function(t,e){window.localStorage.setItem(t,JSON.stringify(e))},i=function(t){return JSON.parse(window.localStorage.getItem(t))}},"0418":function(t,e,n){"use strict";var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"header",on:{click:function(e){return e.stopPropagation(),t.bgColor(e)}}},[n("div",{staticClass:"left"},[t._t("left")],2),n("div",{staticClass:"center"},[t._t("center")],2),n("div",{staticClass:"right"},[t._t("right")],2)])},s=[],r={name:"Header",data:function(){return{index:0,theme:["theme","theme1","theme2"]}},methods:{bgColor:function(){this.index++,this.index>=this.theme.length&&(this.index=0),document.documentElement.setAttribute("data-theme",this.theme[this.index])}}},i=r,a=(n("f8aa"),n("2877")),c=Object(a["a"])(i,o,s,!1,null,"3b91bf94",null);e["a"]=c.exports},"08bf":function(t,e,n){"use strict";var o=n("453f"),s=n.n(o);s.a},"0d03":function(t,e,n){var o=n("6eeb"),s=Date.prototype,r="Invalid Date",i="toString",a=s[i],c=s.getTime;new Date(NaN)+""!=r&&o(s,i,(function(){var t=c.call(this);return t===t?a.call(this):r}))},"1b98":function(t,e,n){"use strict";var o=n("6ea8"),s=n.n(o);s.a},"453f":function(t,e,n){},4795:function(t,e,n){var o=n("23e7"),s=n("da84"),r=n("342f"),i=[].slice,a=/MSIE .\./.test(r),c=function(t){return function(e,n){var o=arguments.length>2,s=o?i.call(arguments,2):void 0;return t(o?function(){("function"==typeof e?e:Function(e)).apply(this,s)}:e,n)}};o({global:!0,bind:!0,forced:a},{setTimeout:c(s.setTimeout),setInterval:c(s.setInterval)})},"6ea8":function(t,e,n){},a55b:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("Header",[n("div",{staticClass:"header-center",attrs:{slot:"center"},slot:"center"},[t._v("登 录")])]),n("LoginBottom")],1)},s=[],r=n("0418"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login-bottom"},[n("form",{attrs:{id:"login-form"}},[n("div",{staticClass:"login-item"},[n("label",{attrs:{for:"login-account"}}),n("div",[n("span",[t._v("账 号")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],ref:"inputBox",attrs:{id:"login-account",type:"text"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),n("b",{on:{click:function(e){return e.stopPropagation(),t.clearContent("account")}}},[t._v("x")])])]),n("div",{staticClass:"login-item"},[n("label",{attrs:{for:"login-password"}}),n("div",[n("span",[t._v("密 码")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],ref:"passwordBox",attrs:{id:"login-password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),n("b",{on:{click:function(e){return e.stopPropagation(),t.clearContent("password")}}},[t._v("x")]),n("p",{directives:[{name:"show",rawName:"v-show",value:5!==t.count,expression:"count !== 5"}]},[t._v("还有"+t._s(t.count)+"次验证机会")])])]),n("div",{staticClass:"login-item login-remember"},[n("label",{attrs:{for:"login-remember"}}),n("div",[n("span",[t._v("记住密码")]),n("input",{ref:"loginRemember",attrs:{id:"login-remember",type:"checkbox",value:"true"},on:{click:function(e){return e.stopPropagation(),t.IsRemember(e)}}}),n("p",{ref:"rememberTip",staticClass:"remember-tip"},[t._v("请在信任的场所勾选此选项")])])]),n("div",{staticClass:"login-item login-submit"},[n("label",{attrs:{for:"login-submit"}}),n("div",[n("input",{attrs:{id:"login-submit",type:"submit",value:"登 录"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.submit(e)}}})])]),n("div",{staticClass:"login-switch"},[n("router-link",{attrs:{tag:"span",to:"/foundpassword"}},[t._v("忘记密码")]),n("span",[t._v("|")]),n("router-link",{attrs:{tag:"span",to:"/registration"}},[t._v("注册账号")]),n("span",[t._v("|")]),n("router-link",{attrs:{tag:"span",to:"/home"}},[t._v("游客登录")])],1)])])},a=[],c=(n("0d03"),n("4795"),n("5530")),u=n("365c"),l=n("0210"),m=n("2f62"),d={name:"LoginBottom",data:function(){return{account:"手机号/网易邮箱",password:"",EmptyMessage:"请输入账号和密码",WrongMessage:"请输入正确的手机号或者邮箱",CountMessage:"密码或账号错误，请10s后再尝试",countTime:10,loginState:null,count:5,isNoCount:!1}},computed:Object(c["a"])({},Object(m["c"])(["getIsRememberPW"])),methods:Object(c["a"])(Object(c["a"])({},Object(m["b"])(["setIsRememberPW","setErrorMessage","setIsShowError"])),{},{clearContent:function(t){this[t]=""},IsRemember:function(){this.getIsRememberPW?(Object(l["d"])("accountList",[]),this.$refs.rememberTip.classList.remove("active")):this.$refs.rememberTip.classList.add("active"),this.setIsRememberPW(!this.getIsRememberPW)},rememberPW:function(t,e){if(this.getIsRememberPW){var n=Object(l["b"])("accountList");if(n){if(n[0]===t&&n[1]===e)return;this.saveAccount(n,t,e)}else n=[],this.saveAccount(n,t,e)}},checkError:function(t){this.setErrorMessage(t),this.setIsShowError(!0)},saveAccount:function(t,e,n){t[0]=e,t[1]=n,Object(l["d"])("accountList",t)},loginCheck:function(t,e){var n,o=this;if(/^1[0-9]{10}$/.test(t))n=u["h"];else{if(!/^[0-9a-zA-Z]{6,18}@163.com$/.test(t))return void this.checkError(this.WrongMessage);n=u["d"]}n(t,e).then((function(n){200===n.code?(o.count=5,o.getIsRememberPW&&o.rememberPW(t,e),o.$router.push("/home")):(o.checkError(n.message),--o.count)}))["catch"]((function(t){console.log(t.response),o.checkError(t.response.data.message)}))},submit:function(){var t=this;if(0!==this.count){var e=this.account,n=this.password;e&&n?this.loginCheck(e,n):this.checkError(this.EmptyMessage)}else if(this.checkError(this.CountMessage),!this.isNoCount){this.isNoCount=!0;var o=(new Date).getTime(),s=setInterval((function(){var e=(new Date).getTime(),n=Math.floor(t.countTime-(e-o)/1e3);if(0===n)return t.setErrorMessage("可尝试登陆验证"),t.isNoCount=!1,t.count=5,void clearInterval(s);t.setErrorMessage("密码或账号错误，请".concat(n,"s后再尝试"))}),1e3)}}}),mounted:function(){var t=Object(l["b"])("accountList");t&&0!==t.length&&(this.account=t[0],this.password=t[1],this.$refs.loginRemember.checked="checked",this.setIsRememberPW(!0))}},f=d,h=(n("08bf"),n("2877")),v=Object(h["a"])(f,i,a,!1,null,"da1010ac",null),g=v.exports,p={name:"Login",components:{Header:r["a"],LoginBottom:g}},b=p,w=(n("1b98"),Object(h["a"])(b,o,s,!1,null,"79218b64",null));e["default"]=w.exports},afd2:function(t,e,n){},f8aa:function(t,e,n){"use strict";var o=n("afd2"),s=n.n(o);s.a}}]);
//# sourceMappingURL=chunk-5aecf476.427a8665.js.map