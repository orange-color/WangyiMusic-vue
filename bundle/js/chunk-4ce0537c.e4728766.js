(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4ce0537c"],{"7f43":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singer"},[i("div",{staticClass:"singer-wrapper"},[i("ScrollView",{ref:"iscroll"},[i("ul",{staticClass:"list-wrapper"},t._l(t.list,(function(e,s){return i("li",{key:s,ref:"groupList",refInFor:!0,staticClass:"list-group"},[i("h2",{staticClass:"group-title"},[t._v(t._s(t.keys[s]))]),i("ul",{staticClass:"group-items"},t._l(e,(function(e,s){return i("li",{key:s,staticClass:"item",on:{click:function(i){return i.stopPropagation(),t.selectSinger(e.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"obj.picUrl"}],attrs:{alt:""}}),i("p",[t._v(t._s(e.name))])])})),0)])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.fixTitle,expression:"fixTitle!==''"}],ref:"fixTitle",staticClass:"fix-title"},[t._v(t._s(t.fixTitle))]),i("ul",{ref:"keyList",staticClass:"list-keys"},t._l(t.keys,(function(e,s){return i("li",{key:s,class:{active:t.currentIndex===s},attrs:{"data-key":s},on:{click:function(e){return e.stopPropagation(),t.keyDown(s)},touchstart:function(e){return e.stopPropagation(),t.touchstart(e)},touchmove:function(e){return e.stopPropagation(),t.touchmove(e)}}},[t._v(t._s(e))])})),0)],1),i("transition",[i("router-view")],1)],1)},r=[],n=(i("4160"),i("d3b7"),i("e25e"),i("159b"),i("ddb0"),i("365c")),o=i("9b91"),c={name:"Singer",data:function(){return{keys:[],list:[],currentIndex:0,groupsTop:[],isKeyMove:!1,beginY:0,scrollY:0,titleHeight:0}},components:{ScrollView:o["a"]},created:function(){var t=this;Object(n["b"])().then((function(e){t.keys=e.keys,t.list=e.list}))["catch"]((function(t){console.log(t)}))},watch:{list:function(){var t=this;this.$nextTick((function(){t.$refs.groupList.forEach((function(e){t.groupsTop.push(e.offsetTop)}))})),this.$nextTick((function(){t.titleHeight=t.$refs.fixTitle.offsetHeight}))}},methods:{keyDown:function(t){this.currentIndex=t,this.$refs.iscroll.scrollTo(0,-this.groupsTop[t]-1,2e3)},touchstart:function(t){this.isKeyMove=parseInt(t.target.dataset.key)===this.currentIndex,this.beginY=t.touches[0].clientY},touchmove:function(t){if(this.isKeyMove){var e=t.touches[0].clientY,i=(e-this.beginY)/t.target.offsetHeight,s=Math.floor(i)+parseInt(t.target.dataset.key);s<0?s=0:s>this.keys.length-1&&(s=this.keys.length-1),this.keyDown(s)}},selectSinger:function(t){this.$router.push("/singer/detail/".concat(t,"/singer"))}},computed:{fixTitle:function(){return this.scrollY>0?"":this.keys[this.currentIndex]}},mounted:function(){var t=this;this.$refs.iscroll.scrolling((function(e){if(t.scrollY=e,!(e>0||e<t.$refs.iscroll.maxScrollY())){var i=t.groupsTop,s=t.currentIndex,r=-i[s],n=-i[s+1];if(e>r)--s,t.$refs.fixTitle.style.top="0px";else if(e<=n)++s,t.$refs.fixTitle.style.top="0px";else{var o=e-n;o<=t.titleHeight&&o>0&&(t.$refs.fixTitle.style.top=o-t.titleHeight+"px")}t.currentIndex=s}}))}},l=c,a=(i("c4ff"),i("2877")),u=Object(a["a"])(l,s,r,!1,null,"4cee8190",null);e["default"]=u.exports},"87ec":function(t,e,i){},c4ff:function(t,e,i){"use strict";var s=i("87ec"),r=i.n(s);r.a},ddb0:function(t,e,i){var s=i("da84"),r=i("fdbc"),n=i("e260"),o=i("9112"),c=i("b622"),l=c("iterator"),a=c("toStringTag"),u=n.values;for(var f in r){var h=s[f],p=h&&h.prototype;if(p){if(p[l]!==u)try{o(p,l,u)}catch(v){p[l]=u}if(p[a]||o(p,a,f),r[f])for(var g in n)if(p[g]!==n[g])try{o(p,g,n[g])}catch(v){p[g]=n[g]}}}}}]);
//# sourceMappingURL=chunk-4ce0537c.e4728766.js.map