(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e313c13"],{1030:function(t,e,i){},2537:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{css:!1},on:{enter:t.enter,leave:t.leave}},[t._t("default")],2)},s=[],r=i("589d"),o=i.n(r),c=(i("2d7c"),{name:"TransitionItem",methods:{enter:function(t,e){this.$nextTick((function(){o()(t,"transition.slideUpIn",{duration:400},(function(){e()}))}))},leave:function(t,e){o()(t,"transition.slideDownOut",{duration:400},(function(){e()}))}}}),a=c,l=i("2877"),u=Object(l["a"])(a,n,s,!1,null,"0b5c2032",null);e["a"]=u.exports},"7f43":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singer"},[i("div",{staticClass:"singer-wrapper"},[i("ScrollView",{ref:"iscroll",attrs:{probeType:t.probeType}},[i("ul",{staticClass:"list-wrapper"},t._l(t.list,(function(e,n){return i("li",{key:n,ref:"groupList",refInFor:!0,staticClass:"list-group"},[i("h2",{staticClass:"group-title"},[t._v(t._s(t.keys[n]))]),i("ul",{staticClass:"group-items"},t._l(e,(function(e,n){return i("li",{key:n,staticClass:"item",on:{click:function(i){return i.stopPropagation(),t.selectSinger(e.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:e.picUrl,expression:"obj.picUrl"}],attrs:{alt:""}}),i("p",[t._v(t._s(e.name))])])})),0)])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.fixTitle,expression:"fixTitle!==''"}],ref:"fixTitle",staticClass:"fix-title"},[t._v(t._s(t.fixTitle))]),i("ul",{ref:"keyList",staticClass:"list-keys"},t._l(t.keys,(function(e,n){return i("li",{key:n,class:{active:t.currentIndex===n},attrs:{"data-key":n},on:{click:function(e){return e.stopPropagation(),t.keyDown(n)},touchstart:function(e){return e.stopPropagation(),t.touchstart(e)},touchmove:function(e){return e.stopPropagation(),t.touchmove(e)}}},[t._v(t._s(e))])})),0)],1),i("TransitionItem",[i("router-view")],1)],1)},s=[],r=(i("4160"),i("d3b7"),i("e25e"),i("159b"),i("ddb0"),i("4795"),i("365c")),o=i("9b91"),c=i("2537"),a={name:"Singer",data:function(){return{keys:[],list:[],currentIndex:0,groupsTop:[],isKeyMove:!1,probeType:3,beginY:0,scrollY:0,titleHeight:0}},components:{ScrollView:o["a"],TransitionItem:c["a"]},created:function(){var t=this;Object(r["b"])().then((function(e){t.keys=e.keys,t.list=e.list}))["catch"]((function(t){console.log(t)}))},watch:{list:function(){var t=this;this.$nextTick((function(){t.$refs.groupList.forEach((function(e){t.groupsTop.push(e.offsetTop)}))})),this.$nextTick((function(){t.titleHeight=t.$refs.fixTitle.offsetHeight}))}},methods:{keyDown:function(t){this.currentIndex=t,this.$refs.iscroll.scrollTo(0,-this.groupsTop[t]-1,2e3)},touchstart:function(t){this.isKeyMove=parseInt(t.target.dataset.key)===this.currentIndex,this.beginY=t.touches[0].clientY},touchmove:function(t){if(this.isKeyMove){var e=t.touches[0].clientY,i=(e-this.beginY)/t.target.offsetHeight,n=Math.floor(i)+parseInt(t.target.dataset.key);n<0?n=0:n>this.keys.length-1&&(n=this.keys.length-1),this.keyDown(n)}},selectSinger:function(t){this.$router.push("/home/singer/detail/".concat(t,"/singer"))}},computed:{fixTitle:function(){return this.scrollY>0?"":this.keys[this.currentIndex]}},mounted:function(){var t=this;setTimeout((function(){t.$refs.iscroll.scrolling((function(e){if(t.scrollY=e,!(e>0||e<t.$refs.iscroll.maxScrollY())){var i=t.groupsTop,n=t.currentIndex,s=-i[n],r=-i[n+1];if(e>s)--n,t.$refs.fixTitle.style.top="0px";else if(e<=r)++n,t.$refs.fixTitle.style.top="0px";else{var o=e-r;o<=t.titleHeight&&o>0&&(t.$refs.fixTitle.style.top=o-t.titleHeight+"px")}t.currentIndex=n}}))}),200)}},l=a,u=(i("b2a8"),i("2877")),f=Object(u["a"])(l,n,s,!1,null,"9f493394",null);e["default"]=f.exports},b2a8:function(t,e,i){"use strict";var n=i("1030"),s=i.n(n);s.a},ddb0:function(t,e,i){var n=i("da84"),s=i("fdbc"),r=i("e260"),o=i("9112"),c=i("b622"),a=c("iterator"),l=c("toStringTag"),u=r.values;for(var f in s){var p=n[f],h=p&&p.prototype;if(h){if(h[a]!==u)try{o(h,a,u)}catch(v){h[a]=u}if(h[l]||o(h,l,f),s[f])for(var d in r)if(h[d]!==r[d])try{o(h,d,r[d])}catch(v){h[d]=r[d]}}}}}]);
//# sourceMappingURL=chunk-4e313c13.554630e5.js.map