(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-54e67e74"],{"0210":function(t,e,i){"use strict";i.d(e,"d",(function(){return r})),i.d(e,"a",(function(){return n})),i.d(e,"e",(function(){return s})),i.d(e,"b",(function(){return o})),i.d(e,"c",(function(){return c}));i("0d03");var r=function(t,e){return t=Math.ceil(t),e=Math.floor(e),Math.round(Math.random()*(e-t))+t},n=function(t){var e=Math.floor(t/86400);e=e>=10?e:"0"+e;var i=Math.floor(t/3600%24);i=i>=10?i:"0"+i;var r=Math.floor(t/60%60);r=r>=10?r:"0"+r;var n=Math.floor(t%60);return n=n>=10?n:"0"+n,{day:e,hour:i,minute:r,second:n}},s=function(t,e){window.localStorage.setItem(t,JSON.stringify(e))},o=function(t){return JSON.parse(window.localStorage.getItem(t))},c=function(){return(new Date).getTime()}},"0d03":function(t,e,i){var r=i("6eeb"),n=Date.prototype,s="Invalid Date",o="toString",c=n[o],a=n.getTime;new Date(NaN)+""!=s&&r(n,o,(function(){var t=a.call(this);return t===t?c.call(this):s}))},"129f":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},2532:function(t,e,i){"use strict";var r=i("23e7"),n=i("5a34"),s=i("1d80"),o=i("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"2d3b":function(t,e,i){"use strict";i.r(e);var r=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"search",on:{click:function(e){return e.stopPropagation(),t.blur(e)}}},[i("div",{staticClass:"search-box"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.keywords,expression:"keywords"},{name:"throttle",rawName:"v-throttle",value:t.search,expression:"search"}],ref:"inputBox",attrs:{type:"text",placeholder:"搜索歌曲、歌手、专辑"},domProps:{value:t.keywords},on:{click:function(e){return e.stopPropagation(),t.focus(e)},input:function(e){e.target.composing||(t.keywords=e.target.value)}}}),i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==",alt:""}})]),i("div",{staticClass:"search-info"},[i("ScrollView",{ref:"infoScrollVue"},[i("div",[i("div",{staticClass:"search-hot"},[i("h3",[t._v("热门搜索")]),i("ul",t._l(t.hots,(function(e,r){return i("li",{key:r,on:{click:function(i){return i.stopPropagation(),t.selectedHot(e.first)}}},[t._v(t._s(e.first))])})),0)]),i("div",{staticClass:"search-history"},[i("ul",t._l(t.searchHistory,(function(e,r){return i("li",{key:r,on:{click:function(i){return i.stopPropagation(),t.selectedHot(e)}}},[i("div",[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAzMCAzMCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljYWNhIiBkPSJNMTUgMzBDNi43MTYgMzAgMCAyMy4yODQgMCAxNVM2LjcxNiAwIDE1IDBzMTUgNi43MTYgMTUgMTUtNi43MTYgMTUtMTUgMTVtMC0yOEM3LjgyIDIgMiA3LjgyIDIgMTVzNS44MiAxMyAxMyAxMyAxMy01LjgyIDEzLTEzUzIyLjE4IDIgMTUgMm03IDE2aC04YTEgMSAwIDAgMS0xLTFWN2ExIDEgMCAxIDEgMiAwdjloN2ExIDEgMCAxIDEgMCAyIi8+PC9zdmc+",alt:""}}),i("p",[t._v(t._s(e))])]),i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNCAyNCI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjOTk5ODk5IiBkPSJNMTMuMzc5IDEybDEwLjMzOCAxMC4zMzdhLjk3NS45NzUgMCAxIDEtMS4zNzggMS4zNzlMMTIuMDAxIDEzLjM3OCAxLjY2MyAyMy43MTZhLjk3NC45NzQgMCAxIDEtMS4zNzgtMS4zNzlMMTAuNjIzIDEyIC4yODUgMS42NjJBLjk3NC45NzQgMCAxIDEgMS42NjMuMjg0bDEwLjMzOCAxMC4zMzhMMjIuMzM5LjI4NGEuOTc0Ljk3NCAwIDEgMSAxLjM3OCAxLjM3OEwxMy4zNzkgMTIiLz48L3N2Zz4=",alt:""},on:{click:function(e){return e.stopPropagation(),t.delHistory(r)}}})])})),0)])])])],1),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.keywords,expression:"keywords !== ''"}],staticClass:"search-suggest"},[i("ScrollView",{ref:"suggestScrollVue"},[i("ul",t._l(t.list,(function(e){return i("li",{key:e.id,on:{click:function(i){return i.stopPropagation(),t.selectMusic(e.id)}}},[i("img",{attrs:{src:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNiAyNiI+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBmaWxsPSIjYzljOWNhIiBkPSJNMjUuMTgxIDIzLjUzNWwtMS40MTQgMS40MTQtNy4zMTUtNy4zMTRBOS45NjYgOS45NjYgMCAwIDEgMTAgMjBDNC40NzcgMjAgMCAxNS41MjMgMCAxMFM0LjQ3NyAwIDEwIDBzMTAgNC40NzcgMTAgMTBjMCAyLjM0Mi0uODExIDQuNDktMi4xNiA2LjE5NWw3LjM0MSA3LjM0ek0xMCAyYTggOCAwIDEgMCAwIDE2IDggOCAwIDAgMCAwLTE2eiIvPjwvc3ZnPg==",alt:""}}),i("p",[t._v(t._s(e.name)+" - "+t._s(e.artists[0].name))])])})),0)])],1)])},n=[],s=(i("caad"),i("a434"),i("d3b7"),i("ac1f"),i("2532"),i("841c"),i("4795"),i("5530")),o=i("9b91"),c=i("365c"),a=i("2f62"),u=i("0210"),M={name:"Search",components:{ScrollView:o["a"]},data:function(){return{keywords:"",list:[],hots:[],searchHistory:[],windowViewY:0}},computed:Object(s["a"])({},Object(a["c"])(["songs"])),methods:Object(s["a"])(Object(s["a"])({},Object(a["b"])(["setFullScreen","setMiniPlayer","getSongDetail","setCurrentIndex"])),{},{search:function(){var t=this;""!==this.keywords&&Object(c["j"])(this.keywords).then((function(e){t.list=e.result.songs}))["catch"]((function(t){console.log(t)}))},selectMusic:function(t){this.$refs.inputBox.blur(),this.setFullScreen(!0),this.getSongDetail({ids:[t],index:0}),0===this.searchHistory.length?(this.searchHistory.push(this.keywords),Object(u["e"])("searchHistory",this.searchHistory)):this.searchHistory.includes(this.keywords)||(this.searchHistory.push(this.keywords),Object(u["e"])("searchHistory",this.searchHistory)),this.keywords=""},selectedHot:function(t){this.keywords=t,this.search()},delHistory:function(t){this.searchHistory.splice(t,1),Object(u["e"])("searchHistory",this.searchHistory)},focus:function(){this.$refs.inputBox.focus()},blur:function(){this.$refs.inputBox.blur()}}),directives:{throttle:{inserted:function(t,e){var i=null,r=!0;t.addEventListener("input",(function(){r&&(i&&clearTimeout(i),i=setTimeout((function(){r=!0,e.value()}),500))}))}}},created:function(){var t=this;Object(c["i"])().then((function(e){t.hots=e.result.hots}))["catch"]((function(t){console.log(t)}))["finally"]((function(){Object(u["b"])("searchHistory")&&(t.searchHistory=Object(u["b"])("searchHistory"))}))},mounted:function(){var t=this;this.windowViewY=document.body.offsetHeight,window.onresize=function(){document.body.offsetHeight<t.windowViewY?t.setMiniPlayer(!1):t.setMiniPlayer(!0)},setTimeout((function(){t.$refs.suggestScrollVue.scrollStart((function(){t.blur()})),t.$refs.infoScrollVue.scrollStart((function(){t.blur()}))}),200)}},l=M,d=(i("773d"),i("2877")),g=Object(d["a"])(l,r,n,!1,null,"c07d68ce",null);e["default"]=g.exports},"5a34":function(t,e,i){var r=i("44e7");t.exports=function(t){if(r(t))throw TypeError("The method doesn't accept regular expressions");return t}},6394:function(t,e,i){},"773d":function(t,e,i){"use strict";var r=i("6394"),n=i.n(r);n.a},"841c":function(t,e,i){"use strict";var r=i("d784"),n=i("825a"),s=i("1d80"),o=i("129f"),c=i("14c3");r("search",1,(function(t,e,i){return[function(e){var i=s(this),r=void 0==e?void 0:e[t];return void 0!==r?r.call(e,i):new RegExp(e)[t](String(i))},function(t){var r=i(e,t,this);if(r.done)return r.value;var s=n(t),a=String(this),u=s.lastIndex;o(u,0)||(s.lastIndex=0);var M=c(s,a);return o(s.lastIndex,u)||(s.lastIndex=u),null===M?-1:M.index}]}))},ab13:function(t,e,i){var r=i("b622"),n=r("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,"/./"[t](e)}catch(r){}}return!1}},caad:function(t,e,i){"use strict";var r=i("23e7"),n=i("4d64").includes,s=i("44d2"),o=i("ae40"),c=o("indexOf",{ACCESSORS:!0,1:0});r({target:"Array",proto:!0,forced:!c},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=chunk-54e67e74.53699e94.js.map