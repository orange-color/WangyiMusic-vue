(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5fbee45b"],{"019e":function(t,e,s){"use strict";var i=s("5cfa"),a=s.n(i);a.a},"4c4f":function(t,e,s){"use strict";var i=s("593b"),a=s.n(i);a.a},"593b":function(t,e,s){},"5cfa":function(t,e,s){},"7c2e":function(t,e,s){"use strict";var i=s("ab97"),a=s.n(i);a.a},a633:function(t,e,s){"use strict";var i=s("e736"),a=s.n(i);a.a},ab97:function(t,e,s){},c84b:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail"},[s("DetailHeader",{ref:"header",attrs:{title:t.playlist.name}}),s("DetailBanner",{ref:"banner",attrs:{path:t.playlist.coverImgUrl}}),s("div",{ref:"bottom",staticClass:"bottom"},[s("ScrollView",{ref:"scrollView"},[s("DetailBottom",{ref:"detailBottom",attrs:{playlist:t.playlist.tracks}})],1)],1)],1)},a=[],n=(s("b0c0"),s("5530")),l=s("365c"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("Header",[s("div",{staticClass:"header-left",attrs:{slot:"left"},on:{click:function(e){return e.stopPropagation(),t.back()}},slot:"left"}),s("p",{staticClass:"header-title",attrs:{slot:"center"},slot:"center"},[t._v(t._s(t.title))]),s("div",{staticClass:"header-right",attrs:{slot:"right"},slot:"right"})])},o=[],c=s("0418"),u=s("2f62"),f={name:"SubHeader",components:{Header:c["a"]},methods:Object(n["a"])(Object(n["a"])({},Object(u["b"])(["setSongsInit"])),{},{back:function(){this.setSongsInit(!1),window.history.back()}}),props:{title:{type:String,default:"",require:!0}}},p=f,d=(s("a633"),s("2877")),h=Object(d["a"])(p,r,o,!1,null,"283f5022",null),m=h.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-top"},[s("div",{staticClass:"img-container"},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.path,expression:"path"}],attrs:{alt:""}}),s("div",{ref:"mask",staticClass:"mask"})])])},g=[],v={name:"DetailBanner",props:{path:{type:String,default:"",require:!0}},methods:{changeMask:function(t){this.$refs.mask.style.opacity=t}}},y=v,$=(s("4c4f"),Object(d["a"])(y,b,g,!1,null,"db38f8b8",null)),k=$.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"detail-bottom"},[s("ul",[s("li",{staticClass:"bottom-top",on:{click:function(e){return e.stopPropagation(),t.selectAllMusic(e)}}},[s("div",{staticClass:"bottom-icon",class:{active:t.isPlaying},on:{click:function(e){return e.stopPropagation(),t.play(e)}}}),s("div",{staticClass:"bottom-title"},[t._v("播放全部")])]),t._l(t.playlist,(function(e,i){return s("li",{key:e.id,staticClass:"bottom-item",on:{click:function(e){return e.stopPropagation(),t.selectMusic(i)}}},[s("div",{staticClass:"item-left"},[s("h3",[t._v(t._s(e.name))]),s("p",[t._v(t._s(e.al.name)+" - "+t._s(e.ar[0].name))])]),s("div",{staticClass:"item-right"})])}))],2),s("div",{ref:"elePlayAll",staticClass:"bottom-top2",on:{click:function(e){return e.stopPropagation(),t.selectAllMusic(e)}}},[s("div",{staticClass:"bottom-icon",class:{active:t.isPlaying},on:{click:function(e){return e.stopPropagation(),t.play(e)}}}),s("div",{staticClass:"bottom-title"},[t._v("播放全部")])])])},C=[],j=(s("d81d"),{name:"DetailBottom",props:{playlist:{type:Array,default:function(){return[]},require:!0}},data:function(){return{playAllHeight:0}},methods:Object(n["a"])(Object(n["a"])({},Object(u["b"])(["setFullScreen","setMiniPlayer","getSongDetail","setCurrentIndex","setIsPlaying","setSongsInit"])),{},{selectMusic:function(t){this.isSongsInit?this.setCurrentIndex(t):this.songsInit(t),this.setFullScreen(!0)},selectAllMusic:function(){this.isSongsInit?this.setCurrentIndex(0):this.songsInit(0),this.setFullScreen(!0)},play:function(){this.setIsPlaying(!this.isPlaying)},songsInit:function(t){var e=this.playlist.map((function(t){return t.id}));this.getSongDetail({ids:[e],index:t}),this.setSongsInit(!0)}}),computed:Object(n["a"])({},Object(u["c"])(["isPlaying","isSongsInit"]))}),I=j,O=(s("019e"),Object(d["a"])(I,S,C,!1,null,"2b644f1e",null)),_=O.exports,w=s("9b91"),P={name:"Detail",data:function(){return{playlist:{},headerHeight:0,currentY:0}},components:{DetailHeader:m,DetailBanner:k,DetailBottom:_,ScrollView:w["a"]},created:function(){var t=this,e=this.$route.params.type;"personalized"===e||"rank"===e?Object(l["g"])({id:this.$route.params.id}).then((function(e){t.playlist=e.playlist}))["catch"]((function(t){console.log(t)})):"albums"===e?Object(l["a"])({id:this.$route.params.id}).then((function(e){t.playlist={name:e.album.name,coverImgUrl:e.album.picUrl,tracks:e.songs}}))["catch"]((function(t){console.log(t)})):"singer"===e&&Object(l["j"])({id:this.$route.params.id}).then((function(e){t.playlist={name:e.artist.name,coverImgUrl:e.artist.picUrl,tracks:e.hotSongs}}))["catch"]((function(t){console.log(t)}))},mounted:function(){var t=this,e=this.$refs.header.$el.offsetHeight-this.$refs.bottom.offsetTop,s=this.$refs.banner.$el.offsetHeight,i=this.$refs.detailBottom.$el.children[1];this.$refs.scrollView.scrolling((function(a){if(t.currentY=a,a>0){var n=1+a/s;t.$refs.banner.$el.style.transform="scale(".concat(n,")"),a>=e&&(i.style.opacity=0,i.style.top=e-a+"px")}else{t.$refs.banner.$el.style.transform="translateY(".concat(a/2,"px)");var l=Math.abs(a)/s;l<=1&&t.$refs.banner.changeMask(l),a<=e&&(i.style.opacity=1,i.style.top=e-a+"px")}})),this.setSongsInit(!1)},computed:Object(n["a"])({},Object(u["c"])(["isFullScreen"])),watch:{isFullScreen:function(t){t&&this.$refs.scrollView.scrollTo(0,this.currentY)}},methods:Object(n["a"])({},Object(u["b"])(["setSongsInit"]))},x=P,D=(s("7c2e"),Object(d["a"])(x,i,a,!1,null,"00448b49",null));e["default"]=D.exports},d81d:function(t,e,s){"use strict";var i=s("23e7"),a=s("b727").map,n=s("1dde"),l=s("ae40"),r=n("map"),o=l("map");i({target:"Array",proto:!0,forced:!r||!o},{map:function(t){return a(this,t,arguments.length>1?arguments[1]:void 0)}})},e736:function(t,e,s){}}]);
//# sourceMappingURL=chunk-5fbee45b.80206b01.js.map