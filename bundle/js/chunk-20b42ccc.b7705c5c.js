(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b42ccc"],{2537:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("transition",{attrs:{css:!1},on:{enter:t.enter,leave:t.leave}},[t._t("default")],2)},n=[],r=i("589d"),o=i.n(r),c=(i("2d7c"),{name:"TransitionItem",methods:{enter:function(t,e){this.$nextTick((function(){o()(t,"transition.slideUpIn",{duration:400},(function(){e()}))}))},leave:function(t,e){o()(t,"transition.slideDownOut",{duration:400},(function(){e()}))}}}),a=c,l=i("2877"),u=Object(l["a"])(a,s,n,!1,null,"0b5c2032",null);e["a"]=u.exports},"7d6c":function(t,e,i){"use strict";var s=i("9e71"),n=i.n(s);n.a},"7f43":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"singer"},[i("div",{staticClass:"singer-wrapper"},[i("ScrollView",{ref:"iscroll",attrs:{probeType:t.probeType}},[i("ul",{staticClass:"list-wrapper"},t._l(t.list,(function(e,s){return i("li",{key:s,ref:"groupList",refInFor:!0,staticClass:"list-group"},[i("h2",{staticClass:"group-title"},[t._v(t._s(t.keys[s]))]),i("ul",{staticClass:"group-items"},t._l(e,(function(e,s){return i("li",{key:s,staticClass:"item",on:{click:function(i){return i.stopPropagation(),t.selectSinger(e.id)}}},[i("div",{staticClass:"lazy-img"},[i("lazy-component",[i("img",{attrs:{src:e.picUrl,alt:""}})])],1),i("p",[t._v(t._s(e.name))])])})),0)])})),0)]),i("div",{directives:[{name:"show",rawName:"v-show",value:""!==t.fixTitle,expression:"fixTitle !== ''"}],ref:"fixTitle",staticClass:"fix-title"},[t._v(" "+t._s(t.fixTitle)+" ")]),i("ul",{ref:"keyList",staticClass:"list-keys"},t._l(t.keys,(function(e,s){return i("li",{key:s,class:{active:t.keyIndex===s},attrs:{"data-key":s},on:{touchstart:function(e){return e.stopPropagation(),t.touchstart(e)},touchmove:function(e){return e.stopPropagation(),t.touchmove(e)},click:function(e){return e.stopPropagation(),t.keyDown(s)}}},[t._v(" "+t._s(e)+" ")])})),0)],1),i("TransitionItem",[i("router-view")],1)],1)},n=[],r=(i("4160"),i("d3b7"),i("e25e"),i("159b"),i("ddb0"),i("4795"),i("365c")),o=i("9b91"),c=i("2537"),a={name:"Singer",data:function(){return{keys:[],list:[],currentIndex:0,keyIndex:0,groupsTop:[],isKeyMove:!1,probeType:3,beginY:0,scrollY:0,titleHeight:0,touchTarget:0,flag:!1}},components:{ScrollView:o["a"],TransitionItem:c["a"]},created:function(){var t=this;Object(r["b"])().then((function(e){t.keys=e.keys,t.list=e.list}))["catch"]((function(t){console.log(t)}))},watch:{list:function(){var t=this;this.$nextTick((function(){t.$refs.groupList.forEach((function(e){t.groupsTop.push(e.offsetTop)}))})),this.$nextTick((function(){t.titleHeight=t.$refs.fixTitle.offsetHeight}))}},methods:{keyDown:function(t){this.flag=!0;var e=Math.abs(t-this.keyIndex);this.keyIndex=t,this.$refs.iscroll.scrollTo(0,-this.groupsTop[t]-1,200*e)},touchstart:function(t){this.isKeyMove=parseInt(t.target.dataset.key)===this.keyIndex,this.beginY=t.touches[0].clientY},touchmove:function(t){if(this.isKeyMove){var e=t.touches[0].clientY,i=(e-this.beginY)/t.target.offsetHeight,s=Math.floor(i)+parseInt(t.target.dataset.key);s<0?s=0:s>this.keys.length-1&&(s=this.keys.length-1),this.keyDown(s)}},selectSinger:function(t){this.$router.push("/home/singer/detail/".concat(t,"/singer"))}},computed:{fixTitle:function(){return this.scrollY>0?"":this.keys[this.currentIndex]}},mounted:function(){var t=this;setTimeout((function(){t.$refs.iscroll.scrolling((function(e){if(t.scrollY=e,!(e>0||e<t.$refs.iscroll.maxScrollY())){var i=t.groupsTop,s=t.currentIndex,n=-i[s],r=-i[s+1];if(e>n)--s,t.$refs.fixTitle.style.top="0px";else if(e<=r)++s,t.$refs.fixTitle.style.top="0px";else{var o=e-r;o<=t.titleHeight&&o>0&&(t.$refs.fixTitle.style.top=o-t.titleHeight+"px")}t.currentIndex=s,t.flag||(t.keyIndex=s)}})),t.$refs.iscroll.scrollEnd((function(){t.flag=!1}))}),200)}},l=a,u=(i("7d6c"),i("2877")),f=Object(u["a"])(l,s,n,!1,null,"07ad1b7f",null);e["default"]=f.exports},"9e71":function(t,e,i){},ddb0:function(t,e,i){var s=i("da84"),n=i("fdbc"),r=i("e260"),o=i("9112"),c=i("b622"),a=c("iterator"),l=c("toStringTag"),u=r.values;for(var f in n){var h=s[f],p=h&&h.prototype;if(p){if(p[a]!==u)try{o(p,a,u)}catch(g){p[a]=u}if(p[l]||o(p,l,f),n[f])for(var d in r)if(p[d]!==r[d])try{o(p,d,r[d])}catch(g){p[d]=r[d]}}}}}]);
//# sourceMappingURL=chunk-20b42ccc.b7705c5c.js.map